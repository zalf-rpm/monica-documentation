
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Model for Nitrogen and Carbon in Agro-ecosystems">
      
      
      
        <link rel="canonical" href="https://zalf-rpm.github.io/monica-documentation/user_guide/Installation_and_Setup/monica_server/">
      
      
        <link rel="prev" href="../linux_installation/">
      
      
        <link rel="next" href="../rundeck_setup/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>MONICA server - MONICA Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="light-green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#understanding-monica-server" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="MONICA Documentation" class="md-header__button md-logo" aria-label="MONICA Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MONICA Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MONICA server
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/zalf-rpm/monica-documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    monica-documentation
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../windows_installation/" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../parameters/crop_parameters/overview/" class="md-tabs__link">
          
  
  
  Parameter Reference and Calibration

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../model_science/soil_processes/overview/" class="md-tabs__link">
          
  
  
  Model Science and Algorithm

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../references/publications/" class="md-tabs__link">
          
  
  
  References and Further Reading

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="MONICA Documentation" class="md-nav__button md-logo" aria-label="MONICA Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MONICA Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zalf-rpm/monica-documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    monica-documentation
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Installation and Setup
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Installation and Setup
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../windows_installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux_installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    MONICA server
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    MONICA server
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zeromq" class="md-nav__link">
    <span class="md-ellipsis">
      
        ZeroMQ
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-single-server-in-request-reply-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running single server in Request-Reply mode
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-a-single-server-in-pipeline-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running a single server in Pipeline mode
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-and-using-multiple-servers-via-zeromq-proxy-processes-in-pipeline-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running and using multiple servers via ZeroMQ proxy processes in pipeline mode
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-multiple-servers-via-docker-containers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running multiple servers via Docker containers
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rundeck_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rundeck setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies_and_python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dependencies & Python version (requirements.txt)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting_installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting Common Installation Issues
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Configuration Files
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configuration Files
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration_files/config_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration_files/config_sim_json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sim.json
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration_files/config_crop_json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    crop.json
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration_files/config_site_json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    site.json
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    How to run
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    How to run
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to_run/command_line/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running MONICA from the Command Line (CLI & CMD)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to_run/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running MONICA in Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to_run/singularity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running with Singularity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to_run/hpc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running on HPC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_to_run/python_api_usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python API usage examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Outputs and Visualisation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Outputs and Visualisation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outputs_and_visualisation/monica_output.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Understanding MONICA Outputs (CSV / JSON structure)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outputs_and_visualisation/visualisation.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visualization with Python/R (example scripts)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outputs_and_visualisation/example_graphs.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Example graphs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Parameter Reference and Calibration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Parameter Reference and Calibration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Crop Parameters
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Crop Parameters
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../parameters/crop_parameters/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../parameters/crop_parameters/species_parameters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Species parameters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../parameters/crop_parameters/cultivar_parameters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cultivar parameters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Model Science and Algorithm
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Model Science and Algorithm
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Soil Processes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Soil Processes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/soil_processes/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/soil_processes/soil_temperature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Soil temperature
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/soil_processes/evaporation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaporation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/soil_processes/soil_moisture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Soil moisture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/soil_processes/soil_frost/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Soil frost
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/soil_processes/snow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Snow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/soil_processes/organic_matter_turn-over/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Organic matter turn-over
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/soil_processes/nitrification_and_denitrification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nitrification and denitrification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/soil_processes/matter_transport/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Matter transport
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Crop Processes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Crop Processes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/photosynthesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Photosynthesis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/respiration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Respiration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/assimilate_partitioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Assimilate partitioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/ontogenesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ontogenesis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/root_growth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Root growth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/leaf_area_and_ground_coverage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leaf area and ground coverage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/transpiration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transpiration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/n_uptake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    N uptake
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/n_concentration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    N concentration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/drought_stress/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Drought stress
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/nitrogen_deficiency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nitrogen deficiency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/oxygen_deficiency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Oxygen deficiency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/heat_stress/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Heat stress
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../model_science/crop_processes/yield/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Yield
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    References and Further Reading
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    References and Further Reading
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/publications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Publications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="understanding-monica-server">Understanding MONICA Server</h1>
<h2 id="zeromq">ZeroMQ</h2>
<p><a href="https://zeromq.org/">ZeroMQ</a> is a small messaging library which is available for many different platforms and programming languages. It allows to send easily messages which can contain arbitrary information between connected parties (nodes/programs/etc).</p>
<p>In the case of MONICA that means that a <strong>ZeroMQ message</strong> is actually a <strong>JSON</strong> string, which contains all the information MONICA needs to run a full simulation. This includes all (climate-) data, soil- and crop-parameters as well as the configuration of the particular simulation. One possible exception at the moment are climate data, which optionally can be read by the MONICA server process itself if the path to a climate <strong>.csv</strong> file is given. This has been done for performance reasons.</p>
<p><code>monica-zmq-server</code> can thus be treated as a stateless process, which receives via ZeroMQ messages/jobs, runs a single simulation and returns a result message. This result message is again a <strong>JSON</strong> string which contains the results requested by the configuration in the <code>sim/output/events section</code> of the received message.</p>
<p><strong>ZeroMQ</strong> makes it easy to connect processes/programs/scripts using a message-passing system. Usually, if two processes have to communicate, there will be a <strong>server-like</strong> part and a <strong>client-like</strong> part. The server part being usually the more stable one (like a normal webserver), whereas clients come and go, connect and disconnect. In order to communicate, both parties have to agree on a supported transport protocol (in our cases here <strong>TCP</strong>), an <strong>IP address</strong> or <strong>DNS name</strong>, and a <strong>port</strong>.</p>
<p>Thus when a client <strong>connects</strong> to an URL like: <code>tcp://my-domain.de:6666</code>. It will tell the ZeroMQ library used by MONICA to use the TCP protocol to transport the messages and connect to a server listening on port <code>6666</code> at domain <code>my-domain.de</code>. The server would do something called bind to network interfaces at a given port and with a transport protocol. So <code>tcp://*:6666</code> would be the counterpart to the client address, which tells <strong>ZeroMQ</strong> to use <strong>TCP</strong> as transport protocol, bind to all available network interfaces (*) and port <code>6666</code>.</p>
<p>Because we're using ZeroMQ to transport our messages you don't have to care if the client or the server is there first. If one of the connecting parties starts up it will try to connect to the other party. Also ZeroMQ allows n:m connections, if it makes sense. This means multiple clients can at the same time be connected to multiple servers. This is especially relevant if the processes are connected in <strong>pipeline</strong> mode, where one process will receive data (input) on one port and send results (output) on to other connected processes on other port(s). Have also a look at the following picture.</p>
<pre><code>                         ┌────────────┐
                         │  Producer  │
                         │    PUSH    │
                         └──────┬─────┘
                                │  Jobs
                                ▼
                         ┌────────────┐
                         │ ZeroMQ     │
                         │  Proxy     │
                         └──────┬─────┘
        ┌───────────────────────┼────────────────────────┐
        ▼                       ▼                        ▼

  ┌───────────┐          ┌───────────┐            ┌───────────┐
  │ Worker 1  │          │ Worker 2  │      ...   │ Worker n  │
  │   PULL    │          │   PULL    │            │   PULL    │
  │   PUSH    │          │   PUSH    │            │   PUSH    │
  └─────┬─────┘          └─────┬─────┘            └─────┬─────┘
        │                      │                        │
        └──────────────┬──────┴─────────────┬──────────┘
                       │                    │
                       ▼                    ▼
                   ┌────────────┐     (all workers push results)
                   │ ZeroMQ     │
                   │  Proxy     │
                   └──────┬─────┘
                          │  Results
                          ▼
                    ┌────────────┐
                    │ Consumer   │
                    │    PULL    │
                    └────────────┘
</code></pre>
<p>This picture shows the general workflow employed currently with MONICA for running on HPCs/cluster computers. There will be a producer process (usually a <strong>Python script</strong>) which creates work (simulations) which are being send to an intermediate process (called a ZeroMQ <strong>proxy</strong>), which distributes the received messages (simulation jobs) amongst connected (to the proxy) <code>monica-zmq-server</code> processses. Each <code>monica-zmq-server</code> process waits for simulation jobs (messages), runs the simulation and sends the simulation result on to another ZeroMQ <strong>proxy</strong> which collects all results and forwards them to a connected consuming/aggregating process (usually a <strong>Python script</strong>). Producer and consumer as well as the MONICA processes (<strong>client-like</strong>) connect to the ZeroMQ proxy processes, which play the stable <strong>server-like</strong> role in this setup.</p>
<p>This simple setup allows to start an arbitrary/necessary amount of MONICA processes to handle the workload created by the producer process. In general there could be multiple producers connected to the <strong>input side proxy</strong> as well as multiple consumers to the <strong>output side proxy</strong>. But while conceptually it's easy to add more producers, it might be more difficult to have more consumers (to handle aggregation) as usually aggregation can't be separated easily. Also in normal setups often the producer process can become a bottleneck as a single process has to create all the simulation setups for N MONICAs.</p>
<p>For more information and details, please look up the ZeroMQ documentation.</p>
<h2 id="running-single-server-in-request-reply-mode">Running single server in Request-Reply mode</h2>
<p>The simplest way to use MONICA in server mode is to execute by</p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\&gt;</span><span class="w"> </span>monica-zmq-server<span class="w"> </span>-s
</code></pre></div>
<p>This will start monica-zmq-server and will listen on all network interface on port <code>6666</code> by default. This is similar to a normal webserver. The user could send a ZeroMQ message to the started server, wait for the simulation to execute and receive the simulation result on the same port.</p>
<p>Via the commandline parameters -s you can choose a different port for the server to listen on. So </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\&gt;</span><span class="w"> </span>monica-zmq-server<span class="w"> </span>-s<span class="w"> </span>tcp://*:5555
</code></pre></div>
<p>This will start MONICA as server in Request-Reply mode listening on port 5555.</p>
<h2 id="running-a-single-server-in-pipeline-mode">Running a single server in Pipeline mode</h2>
<p>A single server can also be started in pipeline mode, which means that the server will accept requests on one port but send the result to clients connected to another (the output) port. To do that you start MONICA with </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\&gt;</span><span class="w"> </span>monica-zmq-server<span class="w"> </span>-bi<span class="w"> </span>-i<span class="w"> </span>tcp://*:6666<span class="w"> </span>-bo<span class="w"> </span>-o<span class="w"> </span>tcp://*:7777
</code></pre></div>
<p>This will start a MONICA server process listening on port <code>`6666</code> for job messages and sending results on port <code>7777</code> to connected clients. This will be done by playing the "ZeroMQ server role" (<strong>binding</strong> to the port), so clients have to <strong>connect</strong> to the given port (<strong>bi = bind input</strong> port and <strong>bo = bind output</strong> port).</p>
<p>On the other hand, starting <code>monica-zmq-server</code> with</p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\&gt;</span><span class="w"> </span>monica-zmq-server<span class="w"> </span>-ci<span class="w"> </span>-i<span class="w"> </span>tcp://*:5555<span class="w"> </span>-co<span class="w"> </span>-o<span class="w"> </span>tcp://*:5556
</code></pre></div>
<p>This will "listen" for jobs on port <strong>5555</strong> and send results on port <strong>5556</strong>. But this time the MONICA server would have to <strong>connect</strong> to the processes/scripts/clients who will send jobs or receive the simulation results. Under normal single server use cases the first version using <strong>bind = -bi / -bo</strong> should be used.</p>
<h2 id="running-and-using-multiple-servers-via-zeromq-proxy-processes-in-pipeline-mode">Running and using multiple servers via ZeroMQ proxy processes in pipeline mode</h2>
<p>To utilize many <code>monica-zmq-server</code> processes at the same time, it makes sense to distribute work amongst many MONICAs via another process called a ZeroMQ <strong>proxy</strong>. In theory one could start a producer process (e.g. a <strong>Python script</strong>) as a <strong>server-like</strong> process (e.g. binding to <code>tcp://*:6666</code>) and let many <code>monica-zmq-servers</code> connect (e.g. via connecting to <code>tcp://localhost:6666</code>) to the <strong>producer</strong> process. The same could happen for the output side, where a <strong>consumer</strong> process binds to tcp://*:7777 and all MONICAS connect to <code>tcp://localhost:7777</code>. Then ZeroMQ would take care to distribute the work from the single producer to many MONICAs and send all results on to a single consumer.</p>
<p>Practically letting play the <strong>producer/consumer</strong> play the stable <strong>server-like</strong> is not the best solution, as these are actually the mostly changing part in such a setup and it will always take a few seconds until all MONICAs automatically have been connected to a newly started producer and consumer. For that reason it makes sense to introduce into the setup two stable processes <strong>(proxies)</strong> as can be seen on the picture in the ZeroMQ section, which are for instance running steadily on a high performance cluster, playing the <strong>server-like</strong> part and <strong>bind</strong> to the network interfaces and let an arbitrary amount of MONICAs connect to them. This network/cloud of MONICAs is stable and waiting for simulation jobs at the proxy gatekeepers input ports. Then both, <strong>producer</strong> and <strong>consumer</strong> can <strong>connect</strong> to the their respective proxy and start sending/receiving messages.</p>
<h2 id="running-multiple-servers-via-docker-containers">Running multiple servers via Docker containers</h2>
<p>An easy way to get a setup of two proxies and a configurable number of MONICA server processes is to use the provided <strong>Docker images</strong> from <strong>Docker-Hub</strong>. More information of how to run a MONICA Docker image can be found in Docke setup section.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../../javascripts/tablesort.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>